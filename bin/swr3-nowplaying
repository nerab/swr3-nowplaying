#!/usr/bin/env ruby
# -*- encoding: utf-8 -*-

require 'bundler'
Bundler.require

require 'swr3-nowplaying'
include SWR3::NowPlaying

previous = nil

loop do
  song = Mapper.map(Loader.load)

  if song != previous
    puts "#{Time.new} - #{song}"
    previous = song
  end

  sleep 10
end
